#### 代码提交前检查

```sh
npm install husky lint-staged --save-dev
```

> husky 或 yorkie 可以让我们向项目中方便添加git hooks。
>
> lint-staged 是一个由glob模式在git暂存文件上运行linters的工具。
>
> Lint 这个单词的本意就是衣服上的棉球，通过 Linting 这个单词的意思就是去除代码中可能存在问题的意思。

[ESlint命令行](https://eslint.cn/docs/user-guide/command-line-interface)

```
--ext 指定JavaScript文件扩展名-默认值：.js
--fix 自动修复问题

// package.json
{
	"scripts": {
		"lint": "cross-env NODE_ENV=production eslint './src/**' --fix --ext .ts --ext .tsx --ext .js"
 	}
}
```

**package.json**

##### husky

```json
"scripts":{
	"lint-staged": "lint-staged",
}
"husky": {
   "hooks": {
      "pre-commit": "npm run lint-staged"
    }
},
"lint-staged": {
   "**/*.js": "eslint --ext .js",  
   "**/*.vue": "eslint --ext .vue",  // 可能需要安装eslint-plugin-vue
   "src/**/*.{js,vue}": [
     "prettier --write",
     "eslint  --fix",
     // "git add"  // 从v10.0.0开始，对最初暂存文件的任何新修改都将自动添加到提交中。如果您的任务以前包含git add步骤，请删除此步骤。自动行为可确保竞争条件较少，因为尝试同时运行多个git操作通常会导致错误。
   ]
},
```

或

```json
"scripts":{
	"lint": "cross-env NODE_ENV=production eslint './src/**' --fix --ext .ts --ext .tsx --ext .js",
},
"husky": {
   "hooks": {
      "pre-commit": "npm run lint"
    }
},
```

或

```sh
npm install yorkie --save-dev
```

```json
"scripts":{
	"lint": "cross-env NODE_ENV=production eslint './src/**' --fix --ext .ts --ext .tsx --ext .js",
},
"gitHooks": {
    "pre-commit": "npm run lint"
}
```

